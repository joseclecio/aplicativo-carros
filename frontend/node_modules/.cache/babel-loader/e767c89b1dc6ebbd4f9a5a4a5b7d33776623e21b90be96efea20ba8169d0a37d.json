{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joseclecio.conceicao\\\\Documents\\\\aplicativo-carros\\\\frontend\\\\src\\\\pages\\\\admin\\\\PainelAdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport apiClient from '../../api/axiosConfig';\nimport { Container, Button, Table, Spinner, ButtonGroup, Row, Col, Card } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StatCard = ({\n  title,\n  value,\n  icon,\n  color\n}) => /*#__PURE__*/_jsxDEV(Card, {\n  className: `shadow-sm border-start border-5 border-${color}`,\n  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-xs fw-bold text-${color} text-uppercase mb-1`,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h5 mb-0 fw-bold text-gray-800\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: `bi ${icon} fs-2 text-gray-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 3\n}, this);\n_c = StatCard;\nconst PainelAdminDashboard = () => {\n  _s();\n  const [veiculos, setVeiculos] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        // Busca os dados em paralelo para mais performance\n        const [veiculosRes, statsRes] = await Promise.all([apiClient.get('/veiculos'), apiClient.get('/dashboard/stats')]);\n        setVeiculos(veiculosRes.data);\n        setStats(statsRes.data);\n      } catch (error) {\n        console.error(\"Erro ao buscar dados do dashboard:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    navigate('/admin/login');\n  };\n\n  // ... (função handleDelete inalterada)\n\n  if (loading) return /*#__PURE__*/_jsxDEV(Spinner, {\n    animation: \"border\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Total de Ve\\xEDculos\",\n          value: stats === null || stats === void 0 ? void 0 : stats.totalVeiculos,\n          icon: \"bi-car-front-fill\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Total de Lojas\",\n          value: stats === null || stats === void 0 ? void 0 : stats.totalLojas,\n          icon: \"bi-shop\",\n          color: \"success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Total de Visualiza\\xE7\\xF5es\",\n          value: stats === null || stats === void 0 ? void 0 : stats.totalVisualizacoes.toLocaleString('pt-BR'),\n          icon: \"bi-eye-fill\",\n          color: \"warning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-0\",\n          children: \"Ve\\xEDculos Recentes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          as: Link,\n          to: \"/admin/veiculo/novo\",\n          variant: \"primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-plus-circle me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), \"Adicionar Ve\\xEDculo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          responsive: \"sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(PainelAdminDashboard, \"OhvNxHnLEA6ip7l/yeeKGO6rIGE=\", false, function () {\n  return [useNavigate];\n});\n_c2 = PainelAdminDashboard;\nexport default PainelAdminDashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"PainelAdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","apiClient","Container","Button","Table","Spinner","ButtonGroup","Row","Col","Card","jsxDEV","_jsxDEV","Fragment","_Fragment","StatCard","title","value","icon","color","className","children","Body","fileName","_jsxFileName","lineNumber","columnNumber","xs","_c","PainelAdminDashboard","_s","veiculos","setVeiculos","stats","setStats","loading","setLoading","navigate","fetchData","veiculosRes","statsRes","Promise","all","get","data","error","console","handleLogout","localStorage","removeItem","animation","md","totalVeiculos","totalLojas","totalVisualizacoes","toLocaleString","Header","as","to","variant","striped","bordered","hover","responsive","_c2","$RefreshReg$"],"sources":["C:/Users/joseclecio.conceicao/Documents/aplicativo-carros/frontend/src/pages/admin/PainelAdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport apiClient from '../../api/axiosConfig';\r\nimport { Container, Button, Table, Spinner, ButtonGroup, Row, Col, Card } from 'react-bootstrap';\r\n\r\nconst StatCard = ({ title, value, icon, color }) => (\r\n  <Card className={`shadow-sm border-start border-5 border-${color}`}>\r\n    <Card.Body>\r\n      <Row className=\"align-items-center\">\r\n        <Col>\r\n          <div className={`text-xs fw-bold text-${color} text-uppercase mb-1`}>{title}</div>\r\n          <div className=\"h5 mb-0 fw-bold text-gray-800\">{value}</div>\r\n        </Col>\r\n        <Col xs=\"auto\">\r\n          <i className={`bi ${icon} fs-2 text-gray-300`}></i>\r\n        </Col>\r\n      </Row>\r\n    </Card.Body>\r\n  </Card>\r\n);\r\n\r\n\r\nconst PainelAdminDashboard = () => {\r\n  const [veiculos, setVeiculos] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // Busca os dados em paralelo para mais performance\r\n        const [veiculosRes, statsRes] = await Promise.all([\r\n          apiClient.get('/veiculos'),\r\n          apiClient.get('/dashboard/stats')\r\n        ]);\r\n        setVeiculos(veiculosRes.data);\r\n        setStats(statsRes.data);\r\n      } catch (error) {\r\n        console.error(\"Erro ao buscar dados do dashboard:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('authToken');\r\n    navigate('/admin/login');\r\n  };\r\n  \r\n  // ... (função handleDelete inalterada)\r\n\r\n  if (loading) return <Spinner animation=\"border\" />;\r\n\r\n  return (\r\n    <>\r\n      {/* --- CARTÕES DE ESTATÍSTICAS --- */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={4} className=\"mb-3\">\r\n          <StatCard title=\"Total de Veículos\" value={stats?.totalVeiculos} icon=\"bi-car-front-fill\" color=\"primary\" />\r\n        </Col>\r\n        <Col md={4} className=\"mb-3\">\r\n          <StatCard title=\"Total de Lojas\" value={stats?.totalLojas} icon=\"bi-shop\" color=\"success\" />\r\n        </Col>\r\n        <Col md={4} className=\"mb-3\">\r\n          <StatCard title=\"Total de Visualizações\" value={stats?.totalVisualizacoes.toLocaleString('pt-BR')} icon=\"bi-eye-fill\" color=\"warning\" />\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* --- TABELA DE VEÍCULOS --- */}\r\n      <Card className=\"shadow-sm\">\r\n        <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n          <h4 className=\"mb-0\">Veículos Recentes</h4>\r\n          <Button as={Link} to=\"/admin/veiculo/novo\" variant=\"primary\">\r\n            <i className=\"bi bi-plus-circle me-2\"></i>Adicionar Veículo\r\n          </Button>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Table striped bordered hover responsive=\"sm\">\r\n            {/* ... (código da tabela que você já tinha) ... */}\r\n          </Table>\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PainelAdminDashboard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,SAASC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjG,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,KAAK;EAAEC,KAAK;EAAEC,IAAI;EAAEC;AAAM,CAAC,kBAC7CP,OAAA,CAACF,IAAI;EAACU,SAAS,EAAE,0CAA0CD,KAAK,EAAG;EAAAE,QAAA,eACjET,OAAA,CAACF,IAAI,CAACY,IAAI;IAAAD,QAAA,eACRT,OAAA,CAACJ,GAAG;MAACY,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjCT,OAAA,CAACH,GAAG;QAAAY,QAAA,gBACFT,OAAA;UAAKQ,SAAS,EAAE,wBAAwBD,KAAK,sBAAuB;UAAAE,QAAA,EAAEL;QAAK;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClFd,OAAA;UAAKQ,SAAS,EAAC,+BAA+B;UAAAC,QAAA,EAAEJ;QAAK;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,eACNd,OAAA,CAACH,GAAG;QAACkB,EAAE,EAAC,MAAM;QAAAN,QAAA,eACZT,OAAA;UAAGQ,SAAS,EAAE,MAAMF,IAAI;QAAsB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACR,CACP;AAACE,EAAA,GAdIb,QAAQ;AAiBd,MAAMc,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmC,KAAK,EAAEC,QAAQ,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACqC,OAAO,EAAEC,UAAU,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMuC,QAAQ,GAAGpC,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMuC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFF,UAAU,CAAC,IAAI,CAAC;QAChB;QACA,MAAM,CAACG,WAAW,EAAEC,QAAQ,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChDxC,SAAS,CAACyC,GAAG,CAAC,WAAW,CAAC,EAC1BzC,SAAS,CAACyC,GAAG,CAAC,kBAAkB,CAAC,CAClC,CAAC;QACFX,WAAW,CAACO,WAAW,CAACK,IAAI,CAAC;QAC7BV,QAAQ,CAACM,QAAQ,CAACI,IAAI,CAAC;MACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC5D,CAAC,SAAS;QACRT,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDE,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,YAAY,GAAGA,CAAA,KAAM;IACzBC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;IACpCZ,QAAQ,CAAC,cAAc,CAAC;EAC1B,CAAC;;EAED;;EAEA,IAAIF,OAAO,EAAE,oBAAOvB,OAAA,CAACN,OAAO;IAAC4C,SAAS,EAAC;EAAQ;IAAA3B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAElD,oBACEd,OAAA,CAAAE,SAAA;IAAAO,QAAA,gBAEET,OAAA,CAACJ,GAAG;MAACY,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBT,OAAA,CAACH,GAAG;QAAC0C,EAAE,EAAE,CAAE;QAAC/B,SAAS,EAAC,MAAM;QAAAC,QAAA,eAC1BT,OAAA,CAACG,QAAQ;UAACC,KAAK,EAAC,sBAAmB;UAACC,KAAK,EAAEgB,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEmB,aAAc;UAAClC,IAAI,EAAC,mBAAmB;UAACC,KAAK,EAAC;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzG,CAAC,eACNd,OAAA,CAACH,GAAG;QAAC0C,EAAE,EAAE,CAAE;QAAC/B,SAAS,EAAC,MAAM;QAAAC,QAAA,eAC1BT,OAAA,CAACG,QAAQ;UAACC,KAAK,EAAC,gBAAgB;UAACC,KAAK,EAAEgB,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEoB,UAAW;UAACnC,IAAI,EAAC,SAAS;UAACC,KAAK,EAAC;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzF,CAAC,eACNd,OAAA,CAACH,GAAG;QAAC0C,EAAE,EAAE,CAAE;QAAC/B,SAAS,EAAC,MAAM;QAAAC,QAAA,eAC1BT,OAAA,CAACG,QAAQ;UAACC,KAAK,EAAC,8BAAwB;UAACC,KAAK,EAAEgB,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEqB,kBAAkB,CAACC,cAAc,CAAC,OAAO,CAAE;UAACrC,IAAI,EAAC,aAAa;UAACC,KAAK,EAAC;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNd,OAAA,CAACF,IAAI;MAACU,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACzBT,OAAA,CAACF,IAAI,CAAC8C,MAAM;QAACpC,SAAS,EAAC,mDAAmD;QAAAC,QAAA,gBACxET,OAAA;UAAIQ,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAC;QAAiB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3Cd,OAAA,CAACR,MAAM;UAACqD,EAAE,EAAEzD,IAAK;UAAC0D,EAAE,EAAC,qBAAqB;UAACC,OAAO,EAAC,SAAS;UAAAtC,QAAA,gBAC1DT,OAAA;YAAGQ,SAAS,EAAC;UAAwB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,wBAC5C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACdd,OAAA,CAACF,IAAI,CAACY,IAAI;QAAAD,QAAA,eACRT,OAAA,CAACP,KAAK;UAACuD,OAAO;UAACC,QAAQ;UAACC,KAAK;UAACC,UAAU,EAAC;QAAI;UAAAxC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEtC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA,eACP,CAAC;AAEP,CAAC;AAACI,EAAA,CAlEID,oBAAoB;EAAA,QAIP5B,WAAW;AAAA;AAAA+D,GAAA,GAJxBnC,oBAAoB;AAoE1B,eAAeA,oBAAoB;AAAC,IAAAD,EAAA,EAAAoC,GAAA;AAAAC,YAAA,CAAArC,EAAA;AAAAqC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}